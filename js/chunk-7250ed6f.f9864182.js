(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7250ed6f","chunk-2d225b8b"],{"62e8":function(e,a,r){"use strict";r.r(a);var t=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("wrapper",{attrs:{titulo:"Cafeterías"}},[r("v-data-table",{attrs:{headers:e.headers,items:e.cafeterias},scopedSlots:e._u([e.$usuario.administrador?{key:"item.acciones",fn:function(a){var t=a.item;return[r("v-btn",{attrs:{icon:"",small:"",plain:""},on:{click:function(a){return e.abrirEditarCafeteria(t)}}},[r("v-icon",[e._v(" mdi-pencil ")])],1),r("v-btn",{attrs:{icon:"",small:"",plain:""},on:{click:function(a){return e.abrirEliminarCafeteria(t)}}},[r("v-icon",[e._v(" mdi-delete ")])],1)]}}:null],null,!0)}),r("dialogo",{attrs:{title:e.cafeteriaParaOperar.id?"Editar cafetería":"Agregar cafetería"},model:{value:e.dialogOperarCafeteria,callback:function(a){e.dialogOperarCafeteria=a},expression:"dialogOperarCafeteria"}},[r("v-form",{ref:"formCafeteria",attrs:{"lazy-validation":""},model:{value:e.formCafeteria,callback:function(a){e.formCafeteria=a},expression:"formCafeteria"}},[r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Nombre",rules:e.nameRules,autofocus:""},model:{value:e.cafeteriaParaOperar.nombre,callback:function(a){e.$set(e.cafeteriaParaOperar,"nombre",a)},expression:"cafeteriaParaOperar.nombre"}})],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Correo",rules:e.emailRules},model:{value:e.cafeteriaParaOperar.email,callback:function(a){e.$set(e.cafeteriaParaOperar,"email",a)},expression:"cafeteriaParaOperar.email"}})],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Teléfono"},model:{value:e.cafeteriaParaOperar.telefono,callback:function(a){e.$set(e.cafeteriaParaOperar,"telefono",a)},expression:"cafeteriaParaOperar.telefono"}})],1)],1)],1),r("template",{slot:"actions"},[e.cafeteriaParaOperar.id?r("v-btn",{attrs:{text:"",color:"primary",plain:""},on:{click:e.editarCafeteria}},[e._v("Guardar")]):r("v-btn",{attrs:{text:"",color:"primary",plain:""},on:{click:e.guardarCafeteria}},[e._v("Guardar")])],1)],2),r("dialogo",{attrs:{title:"¿Desea eliminar "+e.cafeteriaParaOperar.nombre+"?"},model:{value:e.dialogEliminarCafeteria,callback:function(a){e.dialogEliminarCafeteria=a},expression:"dialogEliminarCafeteria"}},[r("template",{slot:"actions"},[r("v-btn",{attrs:{text:"",color:"primary",plain:""},on:{click:e.eliminarCafeteria}},[e._v("Aceptar")])],1)],2),e.$usuario.administrador?r("v-btn",{attrs:{fixed:"",color:"primary",bottom:"",right:"",fab:""},on:{click:e.abrirDialogCrearCafeteria}},[r("v-icon",[e._v("mdi-plus")])],1):e._e()],1)},i=[],n=r("1da1"),c=(r("96cf"),r("ac1f"),r("00b4"),r("c740"),r("e637")),o={name:"Cafeterias",data:function(){return{cafeterias:[],dialogOperarCafeteria:!1,headers:[{text:"Nombre",value:"nombre"},{text:"Correo",value:"email"},{text:"Teléfono",value:"telefono"},{text:"",value:"acciones"}],cafeteriaParaOperar:{},dialogEliminarCafeteria:!1,formCafeteria:!1,nameRules:[function(e){return!!e||"Este campo es requerido"}],emailRules:[function(e){return!!e||"Correo es requerido"},function(e){return/.+@.+\..+/.test(e)||"Ingrese un correo valido"}]}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$loader=!0,a.prev=1,a.next=4,c["a"].getByEncargado(e.$usuario.id);case 4:e.cafeterias=a.sent,a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](1),e.cafeterias=[];case 10:e.$loader=!1;case 11:case"end":return a.stop()}}),a,null,[[1,7]])})))()},methods:{abrirEditarCafeteria:function(e){this.cafeteriaParaOperar=e,this.dialogOperarCafeteria=!0},guardarCafeteria:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.$refs.formCafeteria.validate()){a.next=18;break}return e.$loader=!0,a.prev=2,e.cafeteriaParaOperar.activo=!0,e.cafeteriaParaOperar.idCliente=e.$usuario.idCliente,e.cafeteriaParaOperar.cliente=e.$usuario.cliente,a.next=8,c["a"].createCafeteria(e.cafeteriaParaOperar);case 8:r=a.sent,e.cafeterias.push(r),e.$showAlerta("600","success","mdi-check-circle-outline","Cafetería guardada.",!0),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](2),e.$showAlerta("600","error","mdi-alert-circle","No fue posible guardar la cafetería.",!0);case 16:e.dialogOperarCafeteria=!1,e.$loader=!1;case 18:case"end":return a.stop()}}),a,null,[[2,13]])})))()},abrirEliminarCafeteria:function(e){this.cafeteriaParaOperar=e,this.dialogEliminarCafeteria=!0},editarCafeteria:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.$refs.formCafeteria.validate()){a.next=19;break}return e.$loader=!0,a.prev=2,e.cafeteriaParaOperar.activo=!0,e.cafeteriaParaOperar.idCliente=e.$usuario.idCliente,e.cafeteriaParaOperar.cliente=e.$usuario.cliente,a.next=8,c["a"].updateCafeteria(e.cafeteriaParaOperar);case 8:r=a.sent,t=e.cafeterias.findIndex((function(e){return e.id===r.id})),e.$set(e.cafeterias[t],"cafeteria",r),e.$showAlerta("600","success","mdi-check-circle-outline","Cafetería actualizada.",!0),a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](2),e.$showAlerta("600","error","mdi-alert-circle","No fue posible actualizar la cafetería.",!0);case 17:e.dialogOperarCafeteria=!1,e.$loader=!1;case 19:case"end":return a.stop()}}),a,null,[[2,14]])})))()},abrirDialogCrearCafeteria:function(){var e=this;this.cafeteriaParaOperar={},this.$nextTick((function(){return e.$refs.formCafeteria.resetValidation()})),this.dialogOperarCafeteria=!0},eliminarCafeteria:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$loader=!0,a.prev=1,a.next=4,c["a"].deleteCafeteria(e.cafeteriaParaOperar.id);case 4:r=e.cafeterias.findIndex((function(a){return a.id===e.cafeteriaParaOperar.id})),e.$delete(e.cafeterias,r),e.$showAlerta("600","success","mdi-check-circle-outline","Cafetería eliminada.",!0),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](1),e.$showAlerta("600","error","mdi-alert-circle","No fue posible eliminar la cafetería.",!0);case 12:e.dialogEliminarCafeteria=!1,e.$loader=!1;case 14:case"end":return a.stop()}}),a,null,[[1,9]])})))()}}},l=o,f=r("2877"),s=r("6544"),u=r.n(s),d=r("8336"),p=r("62ad"),m=r("8fea"),v=r("4bd4"),C=r("132d"),b=r("0fd9"),g=r("8654"),h=Object(f["a"])(l,t,i,!1,null,"5493853c",null);a["default"]=h.exports;u()(h,{VBtn:d["a"],VCol:p["a"],VDataTable:m["a"],VForm:v["a"],VIcon:C["a"],VRow:b["a"],VTextField:g["a"]})},e637:function(e,a,r){"use strict";var t=r("20aa"),i=r("0dcc"),n=function(e){var a=t["a"].BASE_URL+"/cafeterias/id-cliente/"+e;return i["a"].get(a)},c=function(e){var a=t["a"].BASE_URL+"/cafeterias/id-encargado/"+e;return i["a"].get(a)},o=function(e,a){var r=t["a"].BASE_URL+"/cafeterias/"+e+"/saldo-alumno/"+a;return i["a"].get(r)},l=function(e,a){var r=t["a"].BASE_URL+"/cafeterias/id-cliente/"+e+"/saldo-alumno/"+a;return i["a"].get(r)},f=function(e){var a=t["a"].BASE_URL+"/cafeterias";return i["a"].post(a,e)},s=function(e){var a=t["a"].BASE_URL+"/cafeterias";return i["a"].put(a,e)},u=function(e){var a=t["a"].BASE_URL+"/cafeterias/"+e;return i["a"].remove(a)};a["a"]={getCafeterias:n,getByEncargado:c,getConSaldoAlumno:o,getSaldoPorCafeteria:l,createCafeteria:f,updateCafeteria:s,deleteCafeteria:u}}}]);
//# sourceMappingURL=chunk-7250ed6f.f9864182.js.map