(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ca8841c"],{"0d86":function(t,a,e){"use strict";var i=e("5530"),s=e("1da1"),o=(e("96cf"),e("d3b7"),e("e9c4"),e("20aa")),n=e("0dcc"),r=function(t){var a=o["a"].BASE_URL+"/clientes-internet/email/"+t;return n["a"].get(a)},l=function(t){var a=o["a"].BASE_URL+"/datos-fiscales/datosfiscales/"+t;return n["a"].get(a)},c=function(t){var a=o["a"].BASE_URL+"/clientes-internet";return n["a"].post(a,t)},u=function(t){var a=o["a"].BASE_URL+"/clientes-internet";return n["a"].put(a,t)},d=function(t){return new Promise(function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(e,s){var r,l,c,u,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r=o["a"].BASE_URL+"/clientes-internet/email/"+t.email,a.next=4,n["a"].get(r);case 4:l=a.sent,e(l),a.next=26;break;case 8:if(a.prev=8,a.t0=a["catch"](0),c=JSON.parse(JSON.stringify(a.t0)),404!==c.status){a.next=25;break}return a.prev=12,u=o["a"].BASE_URL+"/clientes-internet",a.next=16,n["a"].post(u,Object(i["a"])(Object(i["a"])({},t),{},{idCliente:1,cliente:{id:1}}));case 16:d=a.sent,e(d),a.next=23;break;case 20:a.prev=20,a.t1=a["catch"](12),s(a.t1);case 23:a.next=26;break;case 25:s(a.t0);case 26:case"end":return a.stop()}}),a,null,[[0,8],[12,20]])})));return function(t,e){return a.apply(this,arguments)}}())},h=function(t){var a=o["a"].BASE_URL+"/clientes-internet/hijos";return n["a"].post(a,t)},p=function(t){console.log("data :",t);var a=o["a"].BASE_URL+"/datos-fiscales/getPdfData";return n["a"].multipart(a,t)},f=function(t){console.log("saveTaxData data :",t);var a=o["a"].BASE_URL+"/datos-fiscales/saveTaxData";return n["a"].post(a,t)};a["a"]={getByEmail:r,createClienteInternet:c,updateClienteInternet:u,searchClienteInternet:d,createHijo:h,getDataDatosFiscales:l,getPdfData:p,saveTaxData:f}},"2c64":function(t,a,e){},"3d86":function(t,a,e){},"43a6":function(t,a,e){"use strict";var i=e("5530"),s=(e("a9e3"),e("ec29"),e("3d86"),e("c37a")),o=e("604c"),n=e("8547"),r=e("58df"),l=Object(r["a"])(n["a"],o["a"],s["a"]);a["a"]=l.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},s["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var t=s["a"].options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel:function(){var t=s["a"].options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:o["a"].options.methods.onClick},render:function(t){var a=s["a"].options.render.call(this,t);return this._b(a.data,"div",this.attrs$),a}})},5092:function(t,a,e){"use strict";var i=e("20aa"),s=e("0dcc"),o=function(t){var a=i["a"].BASE_URL+"/menus/id-cliente/"+t;return s["a"].get(a)},n=function(){var t=i["a"].BASE_URL+"/menus/disponibles";return s["a"].get(t)},r=function(){var t=i["a"].BASE_URL+"/menus/semanales";return s["a"].get(t)},l=function(t){var a=i["a"].BASE_URL+"/menus";return s["a"].post(a,t)},c=function(t){var a=i["a"].BASE_URL+"/menus";return s["a"].put(a,t)};a["a"]={getByCliente:o,getMenusDisponibles:n,getMenusSemanales:r,crearMenu:l,updateMenu:c}},5311:function(t,a,e){"use strict";var i=e("5607"),s=e("2b0e");a["a"]=s["a"].extend({name:"rippleable",directives:{ripple:i["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}})},"67b6":function(t,a,e){"use strict";var i=e("15fd"),s=e("5530"),o=(e("b0c0"),e("2c64"),e("ba87")),n=e("9d26"),r=e("c37a"),l=e("7e2b"),c=e("a9ad"),u=e("4e82"),d=e("5311"),h=e("7560"),p=e("fe09"),f=e("80d2"),m=e("58df"),v=e("d9f7"),g=["title"],D=Object(m["a"])(l["a"],c["a"],d["a"],Object(u["a"])("radioGroup"),h["a"]);a["a"]=D.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return p["a"].options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return r["a"].options.computed.computedId.call(this)},hasLabel:r["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return p["a"].options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(t){return p["a"].options.methods.genInput.call(this,"radio",t)},genLabel:function(){return this.hasLabel?this.$createElement(o["a"],{on:{click:p["b"]},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(f["t"])(this,"label")||this.label):null},genRadio:function(){var t=this.attrs$,a=(t.title,Object(i["a"])(t,g));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(n["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(s["a"])({name:this.computedName,value:this.value},a)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(t){var a={staticClass:"v-radio",class:this.classes,on:Object(v["c"])({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return t("div",a,[this.genRadio(),this.genLabel()])}})},"8ca5":function(t,a,e){t.exports=e.p+"img/boletin_estado_vacio.2ba3a5a9.svg"},"8e8e":function(t,a,e){t.exports=e.p+"img/cloud-upload.7d863185.svg"},afdd:function(t,a,e){"use strict";var i=e("8336");a["a"]=i["a"]},b92b:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("wrapper",[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("v-row",[i("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[i("v-avatar",{attrs:{size:"200px"}},[t.$usuario&&t.$usuario.refImagen?i("v-img",{attrs:{height:"200",width:"200",src:t.$usuario.refImagen}}):i("v-img",{attrs:{height:"200",width:"200",src:e("96c2")}})],1)],1),i("v-col",{attrs:{cols:"12"}},[i("v-tabs",{attrs:{centered:""}},[i("v-tab",[t._v(" Perfil ")]),i("v-tab",[t._v(" Datos fiscales ")]),i("v-tab-item",[i("v-card",[i("v-card-text",[i("v-row",[i("v-col",{staticClass:"text-h4 text-md-h3 pb-0",attrs:{cols:"12"}},[t._v(" "+t._s(t.$usuario.nombreCompleto)),i("v-btn",{attrs:{icon:"","x-small":""},on:{click:t.abrirDialogEditar}},[i("v-icon",[t._v("mdi-lead-pencil")])],1)],1),i("v-col",{staticClass:"text-h5 text-md-h5 pb-0",attrs:{cols:"12"}},[t._v(" "+t._s(t.$usuario.email)+" ")]),i("v-col",{staticClass:"text-h5 text-md-h5",attrs:{cols:"12"}},[t._v(" "+t._s(t.$usuario.telefono)+" ")]),this.$usuario.esAlumno?i("div",[i("v-col",{staticClass:"text-h5 text-md-h4 pb-0",attrs:{cols:"12"}},[t._v(" Matrícula ")]),i("v-col",{staticClass:"text-h5 text-md-h4 pb-0",attrs:{cols:"12"}},[t._v(" 2° Preparatoria ")])],1):t._e()],1)],1)],1)],1),i("v-tab-item",{staticClass:"text-center py-2 mt-4",staticStyle:{display:"flex","justify-content":"center"}},[null!=this.datosFiscales.datosDeFacturacion?i("v-card",{staticClass:"text-left",staticStyle:{"border-radius":"20px","font-family":"Nunito","border-color":"#1867c0","border-style":"solid"},attrs:{width:"500"}},[i("v-card-title",{staticClass:"pa-2 text-center",staticStyle:{"background-color":"gray",display:"flex","margin-left":"90%","border-bottom-left-radius":"inherit"}},[i("v-btn",{attrs:{icon:"","x-small":"",dark:""},on:{click:function(a){t.dialogDatosFiscales=!0}}},[i("v-icon",[t._v("mdi-pencil")])],1)],1),i("v-card-text",[i("v-row",[i("v-col",{attrs:{cols:"12"}},[1==this.datosFiscales.datosDeFacturacion.tipoPersona?i("v-chip",{staticClass:"mr-2 font-weight-bold"},[i("v-icon",{attrs:{left:""}},[t._v(" mdi-account ")]),t._v(" Persona física ")],1):i("v-chip",{staticClass:"mr-2 font-weight-bold"},[i("v-icon",{attrs:{left:""}},[t._v(" mdi-domain ")]),t._v(" Persona moral ")],1)],1),i("v-col",{attrs:{cols:"6",md:"6"}},[t._v(" Régimen: ")]),i("v-col",{attrs:{cols:"6",md:"6"}},[t._v(" "+t._s(this.nombreRegimen)+" ")]),i("v-col",{attrs:{cols:"6",md:"6"}},[t._v(" RFC: ")]),i("v-col",{attrs:{cols:"6",md:"6"}},[t._v(" "+t._s(this.datosFiscales.datosDeFacturacion.rfc)+" ")]),1==this.datosFiscales.datosDeFacturacion.tipoPersona?i("v-col",{attrs:{cols:"6",md:"6"}},[t._v(" Nombre: ")]):i("v-col",{attrs:{cols:"6",md:"6"}},[t._v(" Razón Social: ")]),1==this.datosFiscales.datosDeFacturacion.tipoPersona?i("v-col",{attrs:{cols:"6",md:"6"}},[t._v(" "+t._s(this.datosFiscales.datosDeFacturacion.nombre+" "+this.datosFiscales.datosDeFacturacion.apellidoPaterno+" "+this.datosFiscales.datosDeFacturacion.apellidoMaterno)+" ")]):i("v-col",{attrs:{cols:"6",md:"6"}},[t._v(" "+t._s(this.datosFiscales.datosDeFacturacion.razonSocial)+" ")]),i("v-col",{attrs:{cols:"6",md:"6"}},[t._v(" CP: ")]),i("v-col",{attrs:{cols:"6",md:"6"}},[t._v(" "+t._s(this.datosFiscales.datosDeFacturacion.codigoPostal)+" ")]),i("v-col",{attrs:{cols:"6",md:"6"}},[t._v(" Uso de CFDI: ")]),i("v-col",{attrs:{cols:"6",md:"6"}},[t._v(" "+t._s(this.nombreUsoCfdi)+" ")])],1)],1)],1):i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("img",{style:t.$vuetify.breakpoint.smAndDown?"width:100%":"width:50%",attrs:{src:e("8ca5")}})]),i("v-col",{attrs:{cols:"12"}},[i("h2",{staticClass:"text--disabled",staticStyle:{"font-family":"Nunito"}},[t._v("No tiene datos fiscales registrados")])]),i("v-col",{attrs:{cols:"12"}},[i("v-btn",{attrs:{rounded:""},on:{click:t.onClickAdd}},[i("span",{staticClass:"primary--text",staticStyle:{"font-family":"Nunito"}},[t._v("Agregar")])])],1)],1)],1)],1)],1)],1)],1)],1),i("dialogo",{attrs:{title:"Editar usuario"},model:{value:t.dialogEditarUsuario,callback:function(a){t.dialogEditarUsuario=a},expression:"dialogEditarUsuario"}},[i("v-row",[i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Nombre",autofocus:""},model:{value:t.usuarioParaEditar.nombre,callback:function(a){t.$set(t.usuarioParaEditar,"nombre",a)},expression:"usuarioParaEditar.nombre"}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Apellido Paterno"},model:{value:t.usuarioParaEditar.apellidoPaterno,callback:function(a){t.$set(t.usuarioParaEditar,"apellidoPaterno",a)},expression:"usuarioParaEditar.apellidoPaterno"}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Apellido Materno"},model:{value:t.usuarioParaEditar.apellidoMaterno,callback:function(a){t.$set(t.usuarioParaEditar,"apellidoMaterno",a)},expression:"usuarioParaEditar.apellidoMaterno"}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{value:t.usuarioParaEditar.email,label:"Correo",disabled:""}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.usuarioParaEditar.telefono,callback:function(a){t.$set(t.usuarioParaEditar,"telefono",a)},expression:"usuarioParaEditar.telefono"}})],1)],1),i("template",{slot:"actions"},[i("v-btn",{attrs:{text:"",color:"primary",plain:""},on:{click:t.actualizarUsuario}},[t._v("Guardar")])],1)],2),i("dialogo",{attrs:{title:"Datos fiscales"},model:{value:t.dialogDatosFiscales,callback:function(a){t.dialogDatosFiscales=a},expression:"dialogDatosFiscales"}},[i("v-form",{ref:"formDatosFiscales",attrs:{"lazy-validation":""},model:{value:t.formDatosFiscales,callback:function(a){t.formDatosFiscales=a},expression:"formDatosFiscales"}},[i("v-row",[i("v-col",{staticClass:"text--disabled font-weight-bold caption",attrs:{cols:"12"}},[t._v(" Favor de capturar razón social con el formato que aparece en su constancia de situación fiscal. "),i("br"),t._v(" Si cuenta con más de 1 régimen fiscal favor de confirmar al que desea que se emita su factura. ")]),i("v-flex",{staticStyle:{"text-align":"center"},attrs:{cols:"12"}},[i("div",[t._v("Capture datos o adjunte constancia de situación fiscal")]),i("div",[i("v-btn",{staticClass:"text-none",attrs:{color:"primary",rounded:"",depressed:"",loading:t.isSelecting},on:{click:t.onButtonClick}},[i("img",{attrs:{src:e("8e8e")}}),t._v(" Subir ")]),i("input",{ref:"uploader",staticClass:"d-none",attrs:{type:"file",accept:"application/pdf"},on:{change:t.onFileChanged}})],1)]),i("v-col",{attrs:{cols:"12"}},[i("v-radio-group",{attrs:{row:""},model:{value:t.tipoPersona,callback:function(a){t.tipoPersona=a},expression:"tipoPersona"}},[i("v-radio",{attrs:{value:"moral",label:"Persona Moral"}}),i("v-radio",{attrs:{value:"fisica",label:"Persona física"}})],1)],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-select",{attrs:{label:"Régimen fiscal",rules:t.nameRules,items:t.regFiscal,"item-text":"regimen","item-value":"idRegimen",value:t.taxDataEntity.regime},on:{change:function(a){return t.changeUsoCfdi(a)}}})],1),2==t.typePerson?i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Razón social",rules:t.nameRules,value:t.taxDataEntity.socialReason},on:{keyup:function(a){t.refreshInputData({socialReason:a.target.value.toUpperCase()})}}})],1):t._e(),1==t.typePerson?i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Nombre",rules:t.nameRules,value:t.taxDataEntity.names},on:{keyup:function(a){t.refreshInputData({names:a.target.value.toUpperCase()})}}})],1):t._e(),1==t.typePerson?i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Apellido Paterno",rules:t.nameRules,value:t.taxDataEntity.lastName},on:{keyup:function(a){t.refreshInputData({lastName:a.target.value.toUpperCase()})}}})],1):t._e(),1==t.typePerson?i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Apellido Materno",rules:t.nameRules,value:t.taxDataEntity.secondLastName},on:{keyup:function(a){t.refreshInputData({secondLastName:a.target.value.toUpperCase()})}}})],1):t._e(),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"RFC",rules:t.rfcRules,value:t.taxDataEntity.rfc},on:{keyup:function(a){t.refreshInputData({rfc:a.target.value.toUpperCase()})}}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{ref:"codigoPostal",attrs:{label:"Código postal",value:t.taxDataEntity.cp,type:"number",rules:t.nameRules},on:{keyup:[function(a){return a.ctrlKey||a.shiftKey||a.altKey||a.metaKey?null:t.refreshInputData({cp:a.target.value})},t.validateCp]}}),i("v-btn",{attrs:{color:"primary",disabled:!t.taxDataEntity.cp||5!==t.taxDataEntity.cp.length},on:{click:function(a){return t.getCP()}}},[t._v(" "+t._s("buscar")+" ")])],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Estado",rules:t.nameRules,value:t.taxDataEntity.state},on:{keyup:function(a){return t.refreshInputData({state:a.target.value})}}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Municipio",rules:t.nameRules,value:t.taxDataEntity.town},on:{keyup:function(a){return t.refreshInputData({town:a.target.value})}}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[t.manualColony?i("v-text-field",{ref:"colonia",attrs:{value:t.taxDataEntity.colony,label:"Colonia"},on:{keyup:function(a){return t.refreshInputData({colony:a.target.value})}}}):i("v-select",{ref:"colonia",attrs:{value:t.taxDataEntity.colony,items:t.cpData.colonies,label:"Colonia"},on:{change:function(a){return t.refreshInputData({colony:a})}}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Tipo de vialidad",rules:t.nameRules,value:t.taxDataEntity.highwayType},on:{keyup:function(a){return t.refreshInputData({highwayType:a.target.value})}}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Nombre de vialidad",rules:t.nameRules,value:t.taxDataEntity.highwayName},on:{keyup:function(a){return t.refreshInputData({highwayName:a.target.value})}}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Ext.",rules:t.nameRules,value:t.taxDataEntity.ext},on:{keyup:function(a){return t.refreshInputData({ext:a.target.value})}}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Int.",value:t.taxDataEntity.numInt},on:{keyup:function(a){return t.refreshInputData({numInt:a.target.value})}}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-select",{attrs:{label:"Uso de CFDI",rules:t.nameRules,items:t.usoCFDI,value:t.taxDataEntity.cfdi},on:{change:function(a){return t.refreshInputData({cfdi:a})}}})],1)],1)],1),this.editFlag?i("template",{slot:"actions"},[i("v-btn",{attrs:{text:"",color:"primary",plain:""},on:{click:t.actualizarDatosFiscales}},[t._v("Actualizar")])],1):i("template",{slot:"actions"},[i("v-btn",{attrs:{text:"",color:"primary",plain:""},on:{click:t.guardarDatosFiscales}},[t._v("Guardar")])],1)],2)],1)},s=[],o=e("5530"),n=e("1da1"),r=(e("96cf"),e("ac1f"),e("00b4"),e("d3b7"),e("159b"),e("e9c4"),e("caad"),e("2532"),e("d81d"),e("5319"),e("0d86")),l=e("20aa"),c=e("0dcc"),u=function(t){var a=l["a"].BASE_URL+"/datos-fiscales";return c["a"].put(a,t)},d={updateDatosFiscales:u},h=function(t){var a=l["a"].BASE_URL+"/datos-fiscales/regimen/"+t;return c["a"].get(a)},p={getCatRegimen:h},f=e("bc3a"),m=e.n(f),v=(e("5092"),/^([A-ZÑ&]{3,4}) ?(\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])) ?([A-Z\d]{2})([A\d])$/),g={name:"InformacionPersonal",data:function(){return{dialogEditarUsuario:!1,typePerson:0,usuarioParaEditar:{},dialogDatosFiscales:!1,editFlag:!1,formDatosFiscales:!1,nameRules:[function(t){return!!t||"Este campo es requerido"}],rfcRules:[function(t){return!!t||"Este campo es requerido"},function(t){return t&&(12==t.length||13==t.length)&&v.test(t)||"Ingrese un RFC válido"}],regFiscal:[],personaMoral:["Actividades Agrícolas, Ganaderas, Silvícolas y Pesqueras","Coordinados","General de Ley Personas Morales","Opcional para Grupos de Sociedades","Personas Morales con Fines no Lucrativos","Régimen Simplificado de Confianza","Residentes en el Extranjero sin Establecimiento Permanente en México","Sociedades Cooperativas de Producción que optan por diferir sus ingresos"],personaFisica:["Arrendamiento","Demás ingresos","Incorporación Fiscal","Ingresos por Dividendos (socios y accionistas)","Ingresos por intereses","Personas Físicas con Actividades Empresariales y Profesionales","Régimen de Enajenación o Adquisición de Bienes","Régimen de las Actividades Empresariales con ingresos a través de Plataformas Tecnológicas","Régimen de los ingresos por obtención de premios","Régimen Simplificado de Confianza","Residentes en el Extranjero sin Establecimiento Permanente en México","Sin obligaciones fiscales","Sueldos y Salarios e Ingresos Asimilados a Salarios"],tipoPersona:null,usoCFDI:[{value:"G01",text:"Adquisición de mercancías"},{value:"G03",text:"Gastos en general"}],taxDataEntity:{},cpData:{colonies:[]},manualColony:!0,regSinEfectosFiscales:[605,607,608,610,611,614,615,616],datosFiscales:[],isSelecting:!1,nombreRegimen:"",nombreUsoCfdi:""}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=t,t.loadDataEdit(e);case 2:case"end":return a.stop()}}),a)})))()},watch:{tipoPersona:function(t){console.log("tipoPersona ---\x3e",t),t?this.getRegimenFiscal():this.regFiscal=[]},dialogDatosFiscales:function(t){if(t)if(this.editFlag)this.abriEditarDatosFiscales();else{var a=this;this.$nextTick((function(){return a.$refs.formDatosFiscales.reset()}))}}},methods:{loadDataEdit:function(t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.$loader=!0,e.prev=1,e.next=4,r["a"].getDataDatosFiscales(t.$usuario.id);case 4:return t.datosFiscales=e.sent,e.next=7,p.getCatRegimen(t.datosFiscales.datosDeFacturacion.tipoPersona);case 7:t.regFiscal=e.sent,null!=a.datosFiscales.datosDeFacturacion?(t.regFiscal.forEach((function(a){a.idRegimen==t.datosFiscales.datosDeFacturacion.idRegimenFiscal&&(t.nombreRegimen=a.regimen)})),t.usoCFDI=[{value:"S01",text:"Sin efectos fiscales"},{value:"G01",text:"Adquisición de mercancías"},{value:"G03",text:"Gastos en general"}],t.usoCFDI.forEach((function(a){a.value==t.datosFiscales.datosDeFacturacion.usoCfdi&&(t.nombreUsoCfdi=a.text)})),a.editFlag=!0):a.editFlag=!1,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),console.log("error : ",e.t0);case 14:a.$loader=!1;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))()},abrirDialogEditar:function(){this.usuarioParaEditar=JSON.parse(JSON.stringify(this.$usuario)),this.dialogEditarUsuario=!0},abriEditarDatosFiscales:function(){var t,a=this;this.taxDataEntity=JSON.parse(JSON.stringify(this.taxDataEntity)),this.$set(this.taxDataEntity,"rfc",this.datosFiscales.datosDeFacturacion.rfc),this.$set(this.taxDataEntity,"cp",this.datosFiscales.datosDeFacturacion.codigoPostal),this.$set(this.taxDataEntity,"highwayName",this.datosFiscales.datosDeFacturacion.direccion),this.$set(this.taxDataEntity,"colony",this.datosFiscales.datosDeFacturacion.colonia),this.$set(this.taxDataEntity,"highwayType",this.datosFiscales.datosDeFacturacion.tipoDeVialidad),this.$set(this.taxDataEntity,"town",this.datosFiscales.datosDeFacturacion.municipio),this.$set(this.taxDataEntity,"ext",this.datosFiscales.datosDeFacturacion.numExt),this.$set(this.taxDataEntity,"numInt",this.datosFiscales.datosDeFacturacion.numInt),this.$set(this.taxDataEntity,"state",this.datosFiscales.datosDeFacturacion.estado),this.$set(this.taxDataEntity,"socialReason",this.datosFiscales.datosDeFacturacion.razonSocial),this.$set(this.taxDataEntity,"names",this.datosFiscales.datosDeFacturacion.nombre),this.$set(this.taxDataEntity,"lastName",this.datosFiscales.datosDeFacturacion.apellidoPaterno),this.$set(this.taxDataEntity,"secondLastName",this.datosFiscales.datosDeFacturacion.apellidoMaterno),this.$set(this.taxDataEntity,"regime",this.datosFiscales.datosDeFacturacion.idRegimenFiscal),this.$set(this.taxDataEntity,"cfdi",this.datosFiscales.datosDeFacturacion.usoCfdi),this.$set(this.taxDataEntity,"idDatosDeFacturacion",this.datosFiscales.datosDeFacturacion.idDatosDeFacturacion),this.$set(this.taxDataEntity,"tipoPersona",this.datosFiscales.datosDeFacturacion.tipoPersona),this.regFiscal.forEach((function(e){e.idRegimen==a.datosFiscales.datosDeFacturacion.idRegimenFiscal&&(t=e.clave)})),console.log("event Uso de clave",t),this.regSinEfectosFiscales.includes(t)?(this.usoCFDI=[{value:"S01",text:"Sin efectos fiscales"}],this.taxDataEntity.cfdi="S01"):this.usoCFDI=[{value:"G01",text:"Adquisición de mercancías"},{value:"G03",text:"Gastos en general"}],console.log("this.taxDataEntity ",this.taxDataEntity),this.$set(this,"tipoPersona",2==this.datosFiscales.datosDeFacturacion.tipoPersona?"moral":"fisica")},actualizarUsuario:function(){var t=this;t.$loader=!0,r["a"].updateClienteInternet(t.usuarioParaEditar).then((function(a){t.$usuario=Object(o["a"])(Object(o["a"])({},t.$usuario),a),localStorage.setItem(l["a"].CURRENT_USER_KEY,JSON.stringify(t.$usuario)),t.dialogEditarUsuario=!1,t.$showAlerta("600","success","mdi-check-circle","Información actualizada.",!0)})).catch((function(){t.$showAlerta("600","error","mdi-alert-circle","No se pudo actualizar la información, inténte más tarde.",!0)})).finally((function(){return t.$loader=!1}))},getRegimenFiscal:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.refreshInputData({personType:t.tipoPersona}),"moral"===t.tipoPersona?(e=2,t.typePerson=2):(e=1,t.typePerson=1),t.editFlag||(t.taxDataEntity.cfdi=""),t.$loader=!0,a.next=6,p.getCatRegimen(e);case 6:t.regFiscal=a.sent,t.$loader=!1,D(t);case 9:case"end":return a.stop()}}),a)})))()},guardarDatosFiscales:function(){var t=this,a=this;this.$loader=!0,this.$refs.formDatosFiscales.validate()&&(a.$set(a.taxDataEntity,"userId",this.$usuario.id),r["a"].saveTaxData(a.taxDataEntity).then((function(t){E(a,t)})).catch((function(){a.showAlertMessage("600","error","mdi-alert-circle","No se pudo actualizar la información, inténte más tarde.",!0)})).finally((function(){t.$loader=!1})))},actualizarDatosFiscales:function(){var t=this,a=this;if(a.$refs.formDatosFiscales.validate()){var e=new Object;e.idDatosDeFacturacion=a.taxDataEntity.idDatosDeFacturacion,e.usoCfdi=a.taxDataEntity.cfdi,e.codigoPostal=a.taxDataEntity.cp,e.colonia=a.taxDataEntity.colony,e.nombre=2==a.typePerson?"":a.taxDataEntity.names,e.apellidoPaterno=2==a.typePerson?"":a.taxDataEntity.lastName,e.apellidoMaterno=2==a.typePerson?"":a.taxDataEntity.secondLastName,e.estado=a.taxDataEntity.state,e.razonSocial=2==a.typePerson?a.taxDataEntity.socialReason:"",e.numExt=a.taxDataEntity.ext,e.numInt=null==a.taxDataEntity.numInt?"":a.taxDataEntity.numInt,e.rfc=a.taxDataEntity.rfc,e.tipoDeVialidad=a.taxDataEntity.highwayType,e.direccion=a.taxDataEntity.highwayName,e.tipoPersona=a.typePerson,e.idRegimenFiscal=a.taxDataEntity.regime,e.municipio=a.taxDataEntity.town,console.log("datosFiaclaesEntity ",e),d.updateDatosFiscales(e).then((function(e){console.log("UPDATE response: ",e),b(a,e),t.loadDataEdit(a)})).catch((function(){a.$showAlerta("600","error","mdi-alert-circle","No se pudo actualizar la información, inténte más tarde.",!0)}))}},getCP:function(){var t=this;if(void 0!==t.taxDataEntity.cp&&t.taxDataEntity.cp&&5===t.taxDataEntity.cp.length){t.$loader=!0,t.manualColony=!1;var a=t.taxDataEntity.cp;m.a.get("https://cp.vjp.io/cp/"+a).then((function(a){a.data.length>0&&(t.cpData.colonies=a.data.map((function(t){return t.asentamiento})),t.refreshInputData({state:a.data[0].estado,town:a.data[0].municipio}))})).catch((function(t){console.log("error : ",t)})).then((function(){t.$loader=!1}))}},changeUsoCfdi:function(t){var a,e=this;console.log("event Uso de CFDI",t),console.log("event Uso de regFiscal",e.regFiscal),e.regFiscal.forEach((function(e){e.idRegimen==t&&(a=e.clave)})),console.log("event Uso de clave",a),e.regSinEfectosFiscales.includes(a)?(e.usoCFDI=[{value:"S01",text:"Sin efectos fiscales"}],e.taxDataEntity.cfdi="S01"):(e.taxDataEntity.cfdi="",e.usoCFDI=[{value:"G01",text:"Adquisición de mercancías"},{value:"G03",text:"Gastos en general"}]),e.refreshInputData({regime:t})},refreshInputData:function(t){this.taxDataEntity=Object(o["a"])(Object(o["a"])({},this.taxDataEntity),t),this.$emit("input",this.taxDataEntity)},validateCp:function(t){var a=t.target.value;a&&5!==a.length&&(this.manualColony=!0)},onButtonClick:function(){var t=this;this.isSelecting=!0,window.addEventListener("focus",(function(){t.isSelecting=!1}),{once:!0}),this.$refs.uploader.click()},onFileChanged:function(t){var a=this,e=this;if(t.target.files&&t.target.files.length>0){this.$loader=!0,this.selectedFile=t.target.files[0];var i=new FormData;i.append("pdfFile",t.target.files[0]),r["a"].getPdfData(i).then((function(t){console.log("response pdf :  ",t),y(e,t),D(e)})).catch((function(t){console.log("catch pdf :  ",t),x(e),e.$showAlertMessage("600","error","mdi-alert-circle","No se pudo actualizar la información, inténte más tarde.",!0)})).finally((function(){a.$loader=!1}))}else this.$loader=!1,x(e),e.$showAlertMessage("600","error","mdi-alert-circle","Por favor seleccione un Pdf",!0)},onClickAdd:function(){this.dialogDatosFiscales=!0}}},D=function(t){if(t.regFiscal.length>0&&void 0!==t.taxDataEntity.pdfRegime&&t.taxDataEntity.pdfRegime.length>0){var a,e=t.taxDataEntity.pdfRegime.replace(/\s/g,"").toUpperCase();t.regFiscal.forEach((function(i){a=i.regimen.replace(/\s/g,"").toUpperCase(),e.includes(a)&&t.$set(t.taxDataEntity,"regime",i.idRegimen)}))}else 0===t.regFiscal.length&&t.getRegimenFiscal()},y=function(t,a){if(null!=a&&null!=a.status)switch(a.status.code){case"01":F(t,a);break;case"02":console.log("PDF Code 02"),x(t),t.$showAlertMessage("600","error","mdi-alert-circle","Por favor eliga una constancia de situación fiscal válida",!0);break}},x=function(t){t.$refs.uploader.value=null,t.$set(t,"taxDataEntity",{})},b=function(t,a){null!=a&&(t.$set(t,"dialogDatosFiscales",!1),t.$showAlertMessage("600","success","mdi-alert-circle","Datos fiscales editados correctamente",!0))},E=function(t,a){if(null!=a&&null!=a.status)switch(a.status.code){case"01":t.loadDataEdit(t),t.$set(t,"dialogDatosFiscales",!1),t.$showAlertMessage("600","success","mdi-alert-circle","Datos fiscales guardados correctamente",!0);break;case"02":t.$showAlertMessage("600","error","mdi-alert-circle","Los datos de facturación ya existen, no se pueden agregar",!0);break;default:t.$showAlertMessage("600","error","mdi-alert-circle","Por el momento no se pudo guardar la información, intente más tarde",!0);break}},F=function(t,a){null!=a.data&&(t.$set(t.taxDataEntity,"rfc",a.data.rfc),t.$set(t.taxDataEntity,"cp",a.data.cp),t.$set(t.taxDataEntity,"highwayName",a.data.highwayName),t.$set(t.taxDataEntity,"colony",a.data.colony),t.$set(t.taxDataEntity,"highwayType",a.data.highwayType),t.$set(t.taxDataEntity,"town",a.data.town),t.$set(t.taxDataEntity,"ext",a.data.ext),t.$set(t.taxDataEntity,"numInt",a.data.numInt),t.$set(t.taxDataEntity,"state",a.data.state),t.$set(t.taxDataEntity,"socialReason",a.data.socialReason),t.$set(t.taxDataEntity,"names",a.data.names),t.$set(t.taxDataEntity,"lastName",a.data.lastName),t.$set(t.taxDataEntity,"secondLastName",a.data.secondLastName),t.$set(t.taxDataEntity,"pdfRegime",a.data.regime),t.$set(t,"tipoPersona",a.data.socialReason.length>0?"moral":"fisica"))},C=g,$=e("2877"),R=e("6544"),S=e.n(R),P=e("8212"),w=e("8336"),_=e("b0af"),I=e("99d9"),k=e("cc20"),A=e("62ad"),U=(e("20f6"),e("e8f2")),V=Object(U["a"])("flex"),N=e("4bd4"),O=e("132d"),j=e("adda"),L=e("67b6"),B=e("43a6"),G=e("0fd9"),M=e("b974"),T=e("71a3"),z=e("c671"),q=e("fe57"),J=e("8654"),K=Object($["a"])(C,i,s,!1,null,"0c1bc6de",null);a["default"]=K.exports;S()(K,{VAvatar:P["a"],VBtn:w["a"],VCard:_["a"],VCardText:I["c"],VCardTitle:I["d"],VChip:k["a"],VCol:A["a"],VFlex:V,VForm:N["a"],VIcon:O["a"],VImg:j["a"],VRadio:L["a"],VRadioGroup:B["a"],VRow:G["a"],VSelect:M["a"],VTab:T["a"],VTabItem:z["a"],VTabs:q["a"],VTextField:J["a"]})},ec29:function(t,a,e){},fe09:function(t,a,e){"use strict";e.d(a,"b",(function(){return r}));e("d3b7"),e("25f0"),e("4de4");var i=e("c37a"),s=e("5311"),o=e("8547"),n=e("58df");function r(t){t.preventDefault()}a["a"]=Object(n["a"])(i["a"],s["a"],o["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,a=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some((function(e){return t.valueComparator(e,a)})):void 0===this.trueValue||void 0===this.falseValue?a?this.valueComparator(a,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=i["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:r},t):t},genInput:function(t,a){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},a),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:r},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var a=this.value,e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);var i=e.length;e=e.filter((function(e){return!t.valueComparator(e,a)})),e.length===i&&e.push(a)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:a?this.valueComparator(e,a)?null:a:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}})}}]);
//# sourceMappingURL=chunk-4ca8841c.46425aa5.js.map